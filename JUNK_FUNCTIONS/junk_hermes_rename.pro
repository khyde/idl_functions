pro junk_hermes_rename

  ALGS = ['GSM','AV']
  DIRS = ['L3B4/SAVE','L3B4/STATS','GLOBAL']
  COMPARE_DATE = DATE_2JD(20220114000000)

  FOR A=0, N_ELEMENTS(ALGS)-1 DO BEGIN
    FOR D=0, N_ELEMENTS(DIRS)-1 DO BEGIN
      
      FILES = file_search(!S.OC + 'GLOBCOLOUR/'+DIRS[D]+'/CHLOR_A-'+ALGS[A]+'/*V4.2.1*', COUNT=CT)
      IF CT GT 0 THEN FILE_RENAME, FILES, NAME_CHANGE=['V4.2.1','R2019']
      
      IF DIRS[D] EQ 'GLOBAL' THEN CONTINUE
      
      FILES = file_search(!S.OC + 'GLOBCOLOUR/'+DIRS[D]+'/CHLOR_A-'+ALGS[A]+'/*GLOBCOLOUR-L3B4*', COUNT=CT)
      IF CT EQ 0 THEN CONTINUE
      FILE_RENAME, FILES, NAME_CHANGE=['GLOBCOLOUR-L3B4','GLOBCOLOUR-R2019-L3B4']
      
      FILES = file_search(!S.OC + 'GLOBCOLOUR/'+DIRS[D]+'/CHLOR_A-'+ALGS[A]+'/*GLOBCOLOUR-R2019-L3B4*', COUNT=CT)
      IF CT EQ 0 THEN CONTINUE
      FOR F=0, N_ELEMENTS(FILES)-1 DO BEGIN
        IF GET_MTIME(FILES[F],/JD) GT COMPARE_DATE THEN CONTINUE  ; If the file is newer than the date from above then the file has already been changed
        d = IDL_RESTORE(FILES[F])
       ; d.name = REPLACE(D.NAME,'HERMES','GLOBCOLOUR')
       ; D.SENSOR = 'GLOBCOLOUR'
       ; IF HAS_TAG(D,'NCFILES') THEN D.NCFILES = REPLACE(D.NCFILES,'HERMES','GLOBCOLOUR')
       ; D.ROUTINE = REPLACE(D.ROUTINE,'HERMES','GLOBCOLOUR')
        D.METHOD = 'R2019'
        SAVE, FILENAME=FILES[F], D
        PFILE, FILES[F]
      ENDFOR
    ENDFOR
  ENDFOR  

END

