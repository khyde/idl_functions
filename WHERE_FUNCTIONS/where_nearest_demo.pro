; $ID:	WHERE_NEAREST_DEMO.PRO,	2020-06-26-15,	USER-KJWH	$
PRO WHERE_NEAREST_DEMO
ROUTINE_NAME= 'WHERE_NEAREST_DEMO'

	ARRAY = [100,150] & VALUES = [100,150,151] & NEAR=1
	OK=WHERE_NEAREST(ARRAY, VALUES,COUNT,VALID=VALID,NEAR=NEAR,NCOMPLEMENT=ncomplement,COMPLEMENT=complement,ninvalid=ninvalid,invalid=invalid)
	PRINT, 'OK',OK
	IF COUNT GE 1 THEN BEGIN & PRINT,'FOUND '+NUM2STR(COUNT)  & PRINT, ARRAY[OK] & PRINT, VALUES(VALID) & ENDIF

	PRINT
	PRINT,'NCOMPLEMENT: ',NCOMPLEMENT
	IF NCOMPLEMENT NE 0 THEN PRINT,'COMPLEMENT: ', ARRAY(COMPLEMENT)
	PRINT
	PRINT,'NINVALID: ',NINVALID
	IF NINVALID NE 0 THEN PRINT,'INVALID: ', VALUES(INVALID)
	STOP




  ARRAY = [1.0,2,3,3 ] & VALUES = [  1.000 ,     2.00000 ,     4.00000 ,     7.00000 ,     11.0000,      17.0000   ,   24.0000,      27.0000]
  NEAR = 1
	OK=WHERE_NEAREST(ARRAY, VALUES,COUNT,VALID=VALID,NEAR=NEAR,NCOMPLEMENT=ncomplement,COMPLEMENT=complement,ninvalid=ninvalid,invalid=invalid)
	PRINT, 'OK',OK
	IF COUNT GE 1 THEN BEGIN & PRINT,'FOUND '+NUM2STR(COUNT)  & PRINT, ARRAY[OK] & PRINT, VALUES(VALID) & ENDIF

	PRINT
	PRINT,'NCOMPLEMENT: ',NCOMPLEMENT
	IF NCOMPLEMENT NE 0 THEN PRINT,'COMPLEMENT: ', ARRAY(COMPLEMENT)
	PRINT
	PRINT,'NINVALID: ',NINVALID
	IF NINVALID NE 0 THEN PRINT,'INVALID: ', VALUES(INVALID)
	STOP


FOR N=0,21 DO BEGIN
	IF N EQ 0 	THEN BEGIN & ARRAY= '' & VALUES = 2 & NEAR=0.1 & ENDIF
	IF N EQ 1 	THEN BEGIN & ARRAY= 3.5D & VALUES = '' & NEAR=0.1 & ENDIF
	IF N EQ 2 	THEN BEGIN & ARRAY= 3.5D & VALUES = [-0.5,5.5,3.001,2.01,1111.99] & NEAR=0.1 & ENDIF
	IF N EQ 3 	THEN BEGIN & ARRAY= [-0.5,5.5,3.001,2.01,1111.99] & VALUES = 3.5D  & NEAR=0.1 & ENDIF
	IF N EQ 4 	THEN BEGIN & ARRAY= 3.0D & VALUES = [-0.5,5.5,3.001,2.01,1111.99] & NEAR=0.1 & ENDIF
	IF N EQ 5 	THEN BEGIN & ARRAY= [-0.5,5.5,3.001,2.01,1111.99] & VALUES = 3.0D & NEAR=0.1 & ENDIF
	IF N EQ 6 	THEN BEGIN & ARRAY= [FINDGEN(10),2.0, 1]+1 & VALUES = [-0.5,5.5,3.001,2.01,1111.99] & NEAR=0.1 & ENDIF
	IF N EQ 7 	THEN BEGIN & ARRAY= [0, 11,10,3.001, 1.910,2 ,2.01,22] & VALUES = [FINDGEN(10),2.0, 1]+1 & NEAR=0.1 & ENDIF
	IF N EQ 8 	THEN BEGIN & ARRAY= [FINDGEN(10),2.0, 1]+1 & VALUES = [-0.5,5.5,3.001,2.01,1111.99]& NEAR=0.1 & ENDIF
	IF N EQ 8 	THEN BEGIN & ARRAY= [FINDGEN(10),2.0, 1]+1 & VALUES = [0, 11,10,3.001, 1.910,2 ,2.01,22]& NEAR=0.1 & ENDIF
	IF N EQ 9 	THEN BEGIN & ARRAY= [0,1,2,3,4,5,6,7,8,9,10,30,15, 45.0,30,20] & VALUES = [45.03, 15.0, 30,  44.99]& NEAR=0.1 & ENDIF
	IF N EQ 10 	THEN BEGIN & ARRAY= [0,1,2,3,4,5,6,7,8,9,10,30,15, 45.0,30,20] & ARRAY=REVERSE(ARRAY) & VALUES = [45.03, 15.0, 30,  44.99]& NEAR=0.1 & ENDIF
	IF N EQ 11 	THEN BEGIN & ARRAY= [0,1,2,3,4,5,6,7,8,9,10,30,15, 45.0,30,20] & ARRAY=REVERSE(ARRAY)& VALUES = [45.03, 15.0, 30,  44.99] & VALUES=SHIFT(VALUES,1) & NEAR=0.1 & ENDIF
  IF N EQ 12 	THEN BEGIN & ARRAY= INDGEN(100) & VALUES = [2,10,90]& NEAR=0.1 & ENDIF
  IF N EQ 13 	THEN BEGIN & ARRAY= INDGEN(100)+.001 & VALUES = [2,10,90]& NEAR=0.1 & ENDIF
  IF N EQ 14 	THEN BEGIN & ARRAY= [1.0, 2.2,3.0,2.1,5,8] & VALUES = [5.01, 2.05,2.06,1.9,9,2.15] & NEAR=0.1 & ENDIF
  IF N EQ 15 	THEN BEGIN & ARRAY= [  2.1 ] & VALUES = [5.01, 2.05,2.06,1.9,9,2.15] & NEAR=0.1 & ENDIF
  IF N EQ 16 	THEN BEGIN & ARRAY= [  3.1 ] & VALUES = [5.01, 2.05,2.06,1.9,9,2.15] & NEAR=0.1 & ENDIF
  IF N EQ 17 	THEN BEGIN & ARRAY= [  2.1 ] & VALUES = [2.05] & NEAR=0.1 & ENDIF
  IF N EQ 18 	THEN BEGIN & ARRAY= [  3.1 ] & VALUES = [5.01] & NEAR=0.1 & ENDIF
	IF N EQ 19 THEN BEGIN  & ARRAY= [2.0,2.50000,3.00000,3.50000,4.00000,4.50000,5.00000,46.5000,47.0000] & Values = [1.44000] & NEAR=0.5 & ENDIF
	IF N EQ 20 THEN BEGIN  & ARRAY= [2.0,2.50000,3.00000,3.50000,4.00000,4.50000,5.00000,46.5000,47.0000] & Values = [1.2,1.84000] & NEAR=0.5 & ENDIF
 	IF N EQ 21 THEN BEGIN  & ARRAY= [2.0,2.50000,3.00000,3.50000,4.00000,4.50000,5.00000,46.5000,47.0000] & Values = 1.84000 & NEAR=0.5 & ENDIF


	PRINT, 'EXAMPLE # ',N
	PRINT

	PRINT,'Array:', ARRAY
	PRINT,'Values:',VALUES
	PRINT,'NEAR:',NEAR
	OK=WHERE_NEAREST(ARRAY, VALUES,COUNT,VALID=VALID,NEAR=NEAR,NCOMPLEMENT=ncomplement,COMPLEMENT=complement,ninvalid=ninvalid,invalid=invalid)
	PRINT, 'OK',OK
	IF COUNT GE 1 THEN BEGIN & PRINT,'FOUND '+NUM2STR(COUNT)  & PRINT, ARRAY[OK] & PRINT, VALUES(VALID) & ENDIF

	PRINT
	PRINT,'NCOMPLEMENT: ',NCOMPLEMENT
	IF NCOMPLEMENT NE 0 THEN PRINT,'COMPLEMENT: ', ARRAY(COMPLEMENT)
	PRINT
	PRINT,'NINVALID: ',NINVALID
	IF NINVALID NE 0 THEN PRINT,'INVALID: ', VALUES(INVALID)
	STOP
ENDFOR



END
