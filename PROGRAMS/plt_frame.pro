; $ID:	PLT_FRAME.PRO,	2020-07-08-15,	USER-KJWH	$
;##################################################################################
  PRO PLT_FRAME,OBJ=OBJ,COLOR=COLOR,THICK=THICK
;+
; NAME:
;       PLT_FRAME
;
; PURPOSE:
;       DRAW A FRAME AROUND THE CURRENT GRAPHICS PLOT
;
; CATEGORY:
;       GRAPHICS
;
; CALLING SEQUENCE:
;       PLT_FRAME
;       PLT_FRAME,3
;       PLT_FRAME,2,COLOR=128
;
;       TEST = DIST(512)
;       PLT_FRAME,5,IM=TEST,COLOR=255
;       TV, TEST
;       CONTROL COLOR AND LINESTYLE BY USING GRAPHICS KEYWORDS
; INPUTS:
;       NONE REQUIRED FOR FRAMING A GRAPHICS WINDOW
;       DEFAULT PLT_FRAME THICK IS 1 PIXEL WIDE
;       DEFAULT COLOR IS !P.COLOR
;
; KEYWORD PARAMETERS:
;       NONE
;
; OUTPUTS:
;       DRAWS A PLT_FRAME ON THE CURRENT GRAPHICS DEVICE
;
; SIDE EFFECTS:
;
; RESTRICTIONS:
;       INPUT OBJ MUST BE A PLOT OBJECT.
;
; PROCEDURE:
;       STRAIGHTFORWARD.
;
; MODIFICATION HISTORY:;     
;				MAY 2,2014, WRITTEN BY:  J.E.O'REILLY
;##################################################################################
;-

; =====> DEFAULT THICK IS 1 PIXEL
;*************************
 ROUTINE_NAME='PLT_FRAME'
;*************************
;#####     DEFAULTS     #####
IF NONE(COLOR) THEN COLOR = 'BLACK'
IF NONE(THICK) THEN THICK = 1
IF NONE(FONT_SIZE) THEN FONT_SIZE = 12
IF NONE(POS)         THEN POS = [0.175,0.75]; NORMAL

IF N_ELEMENTS(OBJ) EQ 0  THEN MESSAGE,'PLOT OBJECT IS REQUIRED'
 

; =====>DEFAULT GRACE IS 0 PIXELS
  IF NONE(GRACE) EQ 0 THEN _GRACE = [0,0,0,0]
  IF N_ELEMENTS(GRACE) EQ 1 THEN _GRACE = [GRACE,GRACE,GRACE,GRACE]

; =====> CHECK IF AN IM WAS PROVIDED,IF SO, THEN DRAW THE PLT_FRAME AROUND THE IM AND RETURN
  IF KEYWORD_SET(IM) THEN BEGIN
    S=SIZE(IM)
    IF S[0] EQ 2 THEN BEGIN
      _PX = S[1]-1  & _PY = S(2)-1
      THICK = THICK -1
      IM(0+_GRACE[0]:THICK+_GRACE[0],_GRACE(2):_PY-_GRACE(3))       		= COLOR  ; LEFT
      IM((_PX-THICK-_GRACE[1]):_PX-_GRACE[1],_GRACE(2):_PY-_GRACE(3)) 	= COLOR  ; RIGHT
      IM(_GRACE[0]:_PX-_GRACE[1],0+_GRACE(2):THICK+_GRACE(2))       		= COLOR  ; BOTTOM
      IM(_GRACE[0]:_PX-_GRACE[1],(_PY-THICK-_GRACE(3)):_PY-_GRACE(3)) 	= COLOR  ; TOP
      RETURN
      ENDIF ELSE MESSAGE,'ERROR: IM MUST BE A 2 DIMENSIONAL ARRAY'
    ENDIF


;	=====> PLOT
	IF KEYWORD_SET(PLOT) THEN BEGIN
		X = !X.CRANGE & Y = !Y.CRANGE
  	IF !X.TYPE EQ 1 THEN X= 10.0^X
  	IF !Y.TYPE EQ 1 THEN Y= 10.0^Y
  	PLOTS, [X[1],X[1],X[0],X[0],X[1]],$
  				 [Y[1],Y[0],Y[0],Y[1],Y[1]],$
  					/DATA,COLOR=COLOR,THICK=THICK,_EXTRA=_EXTRA
 		RETURN
  ENDIF

;	=====> PAGE
	IF KEYWORD_SET(PAGE) THEN BEGIN
  FOR THICK = 0,THICK-1 DO BEGIN
    XL=0+THICK+_GRACE[0]
    XR=!D.X_SIZE-THICK-1-_GRACE[1]

    YB=0+THICK+_GRACE(2)
    YT=!D.Y_SIZE-THICK-1-_GRACE(3)
    PLOTS,[XL,XL,XR,XR, XL ],$
          [YB,YT,YT,YB, YB ],$
          /DEVICE,COLOR=COLOR,_EXTRA = _EXTRA
    ENDFOR
 		RETURN
  ENDIF

;	=====> REGION
	IF KEYWORD_SET(REGION)	THEN BEGIN
		X = !X.REGION & Y = !Y.REGION
		PLOTS,	[X[1],X[1],X[0],X[0],X[1]],$
  					[Y[1],Y[0],Y[0],Y[1],Y[1]],/NORMAL,COLOR=COLOR,_EXTRA=_EXTRA
  	RETURN
	ENDIF

END; #####################  END OF ROUTINE ################################
