; $ID:	STRUCT_SRT.PRO,	2020-06-30-17,	USER-KJWH	$
;+
;;#############################################################################################################
	FUNCTION STRUCT_SRT,STRUCT,TAGNAMES,ORDER=ORDER

; PURPOSE: THIS FUNCTION SORTS TAGS IN A STRUCTURE
; 
; 
; CATEGORY:	UTILITY;		 
;
; CALLING SEQUENCE: RESULT = STRUCT_SRT(STRUCT)
;
; INPUTS: STRUCT  

; OPTIONAL INPUTS:
;		
; KEYWORD PARAMETERS:

; OUTPUTS: 
;		
;; EXAMPLES:
;  ST, STRUCT_SRT(STRUCT)
;	NOTES:
;       CAUTION ONLY DOES ASCENDING SORTS
;       CAUTION ONLY SORTS ON NUMERIC TAGS

;
; MODIFICATION HISTORY:
;			WRITTEN SEP 28, 2014 J.O'REILLY
;#################################################################################
;-
;****************************
ROUTINE_NAME  = 'STRUCT_SRT'
;****************************
IF IDLTYPE(STRUCT) NE 'STRUCT' THEN MESSAGE,'ERROR STRUCT NOT A STRUCT'
IF NONE(TAGNAMES) THEN TAGNAMES = TAG_NAMES(STRUCT)
IF N_ELEMENTS(ORDER) EQ 1 THEN ORDER = REPLICATE(ORDER,N_ELEMENTS(TAGNAMES))
IF NONE(ORDER) THEN ORDER = REPLICATE(0,N_ELEMENTS(TAGNAMES))
ROWS = N_ELEMENTS(STRUCT)
COLS = N_ELEMENTS(TAGNAMES)
TOT = FLTARR(COLS,ROWS)
P
;FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FOR NTH = 0, N_ELEMENTS(TAGNAMES)-1 DO BEGIN
  OK = WHERE(TAG_NAMES(STRUCT) EQ TAGNAMES[NTH],COUNT)
  DATA = STRUCT.(OK) 
  IF NUMERIC(DATA) EQ 0 THEN  CONTINUE;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>   
  IF ORDER[NTH] EQ 0 THEN BEGIN
    TOT(NTH,*) = DATA
  ENDIF ELSE BEGIN
    TOT(NTH,*) = REVERSE(DATA)
  ENDELSE;IF ORDER(NTH) EQ 0 THEN BEGIN
ENDFOR;FOR NTH = 0,N_ELEMENTS(TAGNAMES) -1 DO BEGIN
;FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
T = TOTAL(TOT,1,/NAN)
S = SORT(T)


RETURN,STRUCT(S)

DONE:          
	END; #####################  END OF ROUTINE ################################
