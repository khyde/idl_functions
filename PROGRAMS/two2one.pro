; $ID:	TWO2ONE.PRO,	2020-07-08-15,	USER-KJWH	$
;#########################################################################
FUNCTION TWO2ONE, INX, INY, ARR, IN, HELP=HLP

;-------------------------------------------------------------
;+
; NAME:
;       TWO2ONE
; PURPOSE:
;       CONVERT FROM 2-D INDICES TO 1-D INDICES.
; CATEGORY:
; CALLING SEQUENCE:
;       TWO2ONE, IX, IY, ARR, IN
; INPUTS:
;       IX, IY = 2-D INDICES.                 IN
;       ARR = ARRAY TO USE (FOR SIZE ONLY).   IN
;         ALTERNATIVELY, ARR CAN BE [NX, NY]
;         WHERE NX AND NY ARE THE IMAGE SIZES
;         IN X AND Y (SAVES SPACE).
; KEYWORD PARAMETERS:
; OUTPUTS:
;       IN = EQUIVALENT 1-D INDICES.          OUT

; EXAMPLES:
;      PRINT,TWO2ONE(0,0,INDGEN([2,2]))
;      PRINT,TWO2ONE(1,0,INDGEN([2,2]))
;      PRINT,TWO2ONE(1,1,INDGEN([2,2]))
; MODIFICATION HISTORY:
;       R. STERNER, 7 MAY, 1986.
;       JOHNS HOPKINS APPLIED PHYSICS LAB.
;       R. STERNER, 19 NOV, 1989 --- CONVERTED TO SUN
;       R. STERNER, 15 FEB, 1993 --- FIXED A BUG IN THE [NX,NY] CASE.
;       MAY 07,2015, JOR CHANGED PRO TO A FUNCTION
;                        ADDED EXAMPLES,FORMATTED
;
; COPYRIGHT (C) 1986, JOHNS HOPKINS UNIVERSITY/APPLIED PHYSICS LABORATORY
; THIS SOFTWARE MAY BE USED, COPIED, OR REDISTRIBUTED AS LONG AS IT IS NOT
; SOLD AND THIS COPYRIGHT NOTICE IS REPRODUCED ON EACH COPY MADE.  THIS
; ROUTINE IS PROVIDED AS IS WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES
; WHATSOEVER.  OTHER LIMITATIONS APPLY AS DESCRIBED IN THE FILE DISCLAIMER.TXT.
;-
;#########################################################################


;************************
ROUTINE_NAME = 'TWO2ONE'
;************************
 
 
	IF (N_PARAMS(0) LT 3) OR KEYWORD_SET(HLP) THEN BEGIN
	  PRINT,' CONVERT FROM 2-D INDICES TO 1-D INDICES.'	
	  PRINT,' TWO2ONE, IX, IY, ARR, IN'
	  PRINT,'   IX, IY = 2-D INDICES.                 IN'
	  PRINT,'   ARR = ARRAY TO USE (FOR SIZE ONLY).   IN'
	  PRINT,'     ALTERNATIVELY, ARR CAN BE [NX, NY]'
	  PRINT,'     WHERE NX AND NY ARE THE IMAGE SIZES'
	  PRINT,'     IN X AND Y (SAVES SPACE).'
	  PRINT,'   IN = EQUIVALENT 1-D INDICES.          OUT'
	  ;RETURN
	ENDIF;IF (N_PARAMS(0) LT 3) OR KEYWORD_SET(HLP) THEN BEGIN

 
	S = SIZE(ARR)
	IF N_ELEMENTS(ARR) EQ 2 THEN S = [0,ARR]
 
	IN = LONG(.5+INY)*S[1] + LONG(.5+INX)
	RETURN,IN
 
	END
