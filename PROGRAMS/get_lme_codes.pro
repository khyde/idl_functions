; $ID:	GET_LME_CODES.PRO,	2020-06-30-17,	USER-KJWH	$
;+
;;#############################################################################################################
	FUNCTION GET_LME_CODES,MAPS,PWP = PWP

; PURPOSE: THIS FUNCTION RETURNS THE LME CODES 
; 
; 
; CATEGORY:	UTILITY;		 
;
; CALLING SEQUENCE: RESULT = GET_LME_CODES(MAPS)
;
; INPUTS: MAPS  

; OPTIONAL INPUTS:
;		
; KEYWORD PARAMETERS: PWP IF SET RETURNS 99 INSTEAD OF 67

; OUTPUTS: 
;		
;; EXAMPLES:
;  PRINT, GET_LME_CODES()
;  PRINT, GET_LME_CODES(['BALTIC_SEA','LAPTEV_SEA','KARA_SEA'])
;  PRINT, GET_LME_CODES('PACIFIC_WARM_POOL')
;  PRINT, GET_LME_CODES('PACIFIC_WARM_POOL',/PWP)
;  PRINT, GET_LME_CODES(/PWP)
;	NOTES:


;
; MODIFICATION HISTORY:
;			WRITTEN OCT 11, 2013 J.O'REILLY
;			OCT 27,2014,JOR ADDED KEY PWP
;#################################################################################
;-
;******************************
ROUTINE_NAME  = 'GET_LME_CODES'
;******************************
DB = READ_LME_DB()
IF NONE(MAPS) THEN BEGIN
  IF KEY(PWP) THEN BEGIN
    OK = WHERE_MATCH(DB.MAP,'PACIFIC_WARM_POOL',COUNT)
    IF COUNT EQ 1 THEN DB[OK].CODE = '99'
  ENDIF;IF KEY(PWP) THEN BEGIN
  RETURN,DB.CODE
  
ENDIF ELSE BEGIN
  MAPS = STRUPCASE(MAPS)
  OK = WHERE_MATCH(DB.MAP,MAPS,COUNT_MAP)
  IF KEY(PWP) THEN BEGIN
    P = WHERE_MATCH(MAPS,'PACIFIC_WARM_POOL',COUNT_PWP)
    IF COUNT_PWP EQ 1 THEN DB(P).CODE = '99'    
  ENDIF;IF KEY(PWP) THEN BEGIN

  IF KEY(PWP) AND MAPS[0] EQ 'PACIFIC_WARM_POOL' THEN RETURN, 99
  IF COUNT_MAP GE 1 THEN RETURN,DB[OK].CODE ELSE RETURN, !NULL
ENDELSE;IF NONE(MAPS) THEN BEGIN

DONE:          
	END; #####################  END OF ROUTINE ################################
