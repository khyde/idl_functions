; $ID:	WHERE_DUPS.PRO,	2020-06-26-15,	USER-KJWH	$

  FUNCTION WHERE_DUPS,DATA,COUNT
;+
; NAME:
;       WHERE_DUPS
;
; PURPOSE:
;       IDENTIFY DUPLICATES IN AN ARRAY
;
; CATEGORY:
;
;
; CALLING SEQUENCE:
;       Result = WHERE_DUPS(DATA)
;
; INPUTS:
;       DATA (ARRAY)
;       COUNT: NUMBER OF DUPS FOUND
;
; KEYWORD PARAMETERS:
;       SIZE: THE SIZE MUST ALSO BE THE SAME FOR THE DUPLICATES 
; OUTPUTS:
;       STRUCTURE WITH SET AND NUMBER PER SET
; SIDE EFFECTS:
;       None.
;
; RESTRICTIONS:
;       None.
;
; PROCEDURE:
;       Straightforward.
;
; MODIFICATION HISTORY:
;  Written by:  J.E.O'Reilly, November 27,1999
;  MAY 17,2011, JOR:
;     ADDED PARAMETER COUNT TO FUNCTION
;     ADDED KEYWORD SIZE;  
;  NOV 13,2014,JOR REPLACED RETURN, -1 WITH RETURN,[]
;################################################################################
;-
;**************************
ROUTINE_NAME = 'WHERE_DUPS'
;**************************

	SETS=WHERE_SETS(DATA)
	OK = WHERE(SETS.N GE 2,COUNT,NCOMPLEMENT=NCOMPLEMENT,COMPLEMENT=COMPLEMENT)
  IF COUNT EQ 0 THEN BEGIN
  	RETURN, []
  ENDIF ELSE BEGIN
  	RETURN, SETS[OK]
  ENDELSE
PRINT,ROUTINE_NAME +' IS DONE'
  END ; END OF PROGRAM
