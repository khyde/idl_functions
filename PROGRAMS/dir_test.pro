; $ID:	DIR_TEST.PRO,	2018-03-08-12,	USER-KJWH	$
;#############################################################################################################
	PRO DIR_TEST, DIR, NOEXPAND_PATH=NOEXPAND_PATH, VERBOSE=VERBOSE
	
;  PRO DIR_TEST
;+
; NAME:
;		DIR_TEST
;
; PURPOSE:  TEST FOR A DIRECTORY(S) AND THEN MAKE THEM IF NOT PRESENT
;
; CATEGORY:
;		FILE
;		 
;
; CALLING SEQUENCE: DIR_TEST
;
; INPUTS: DIR ONE OR MORE DIRECTORIES 
;		
;		
; OPTIONAL INPUTS:
;		NONE:	
;		
; KEYWORD PARAMETERS:
;  NOEXPAND_PATH ..... KEYWORD FOR FILE_MKDIR (SET THIS KEYWORD TO CAUSE FILE_MKDIR TO USE THE FILE ARGUMENT EXACTLY AS SPECIFIED, WITHOUT APPLYING THE USUAL FILE PATH EXPANSION.)		
;
; OUTPUTS: CREATES DIRECTORIES IF THEY DO NOT ALREADY EXIST 
;		
; EXAMPLES:
;   DIR_TEST,['\HELLO\','\GOODBYE\']
;   DIR_TEST,['C:\HELLO\GOODBYE\']
;   DIR_TEST,['C:\PROJECTS\JUNK\']
;   DIR_TEST,'W:/HELLO/' ; DELIBERATE ERROR BECAUSE NO W DRIVE ON SYSTEM
;
;  DIR_TEST
;
; MODIFICATION HISTORY:
;			WRITTEN SEPTEMBER 12 2012 K.J.W.HYDE
;			OCT 29, 2013 - JEOR: MINOR CHANGES, ADDED EXAMPLES, FORMATTING	
;			NOV 08, 2013 - JEOR: ADDED IF FILE_TEST(DIR(N),/DIR) EQ 0 THEN BEGIN
;     DEC 09, 2013 - KJWH: ADDED VERBOSE KEYWORD
;     FEB 21, 2017 - KJWH: ADDED NOEXPAND_PATH KEYWORD
;     APR 21, 2017 - JEOR: IF KEYWORD_SET(VERBOSE) THEN PFILE,ADIR,/X
;     SEP 07, 2017 - KJWH: ADDED A STEP TO CORRECT THE SLASH (/ \) DELIMITER IF NEEDED - ADIR = FIX_PATH(DIR(N))
;     MAR 08, 2018 - KJWH: Changed the VERBOSE print statements
;			
;#################################################################################
;-
;***************************
ROUTINE_NAME  = 'DIR_TEST'
;***************************

  IF N_ELEMENTS(DIR) EQ 0 THEN MESSAGE,'ERROR: MUST PROVIDE DIR'

  FOR N=0,N_ELEMENTS(DIR)-1 DO BEGIN
    ADIR = FIX_PATH(DIR(N))
    IF FILE_TEST(DIR(N),/DIR) EQ 0 THEN BEGIN
      FILE_MKDIR, DIR(N), NOEXPAND_PATH=NOEXPAND_PATH
      IF KEYWORD_SET(VERBOSE) THEN PRINT, 'MAKING DIRECTORY ' + DIR
    ENDIF ELSE BEGIN
      IF KEYWORD_SET(VERBOSE) THEN PRINT, DIR + ' ALREADY EXISTS'
    ENDELSE ;IF FILE_TEST(DIR(N),/DIR) EQ 0 THEN BEGIN
  ENDFOR;FOR N=0,N_ELEMENTS(DIR)-1 DO BEGIN


END; #####################  END OF ROUTINE ################################
